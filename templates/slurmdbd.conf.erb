# Archive info
ArchiveJobs=yes
ArchiveDir="/slurm/archive"
ArchiveSteps=yes
ArchiveResvs=yes
ArchiveEvents=yes
ArchiveSuspend=yes
ArchiveTXN=yes
ArchiveUsage=yes
PurgeEventAfter=<%= @slurmdbd_purge_time %>
PurgeJobAfter=<%= @slurmdbd_purge_time %>
PurgeResvAfter=<%= @slurmdbd_purge_time %>
PurgeStepAfter=<%= @slurmdbd_purge_time %>
PurgeSuspendAfter=<%= @slurmdbd_purge_time %>
PurgeTXNAfter=<%= @slurmdbd_purge_time %>
PurgeUsageAfter=<%= @slurmdbd_purge_time %>

# Authentication info
AuthType=auth/munge

# slurmDBD info
CommitDelay=1
DbdHost=localhost
SlurmUser=slurm
DebugLevelSyslog=verbose
DebugFlags=DB_USAGE
PidFile=/var/run/slurmdbd.pid
PrivateData=jobs
MaxQueryTimeRange=30-00:00:00

# Database info
StorageType=accounting_storage/mysql
StorageHost=localhost
StorageUser=slurm
StoragePass=<%= @slurmdbd_pass %>
StorageLoc=<%= @slurmdbd_loc %>
<% if @enable_slurmrestd %>

########################## slurmrestd #####################################
AuthAltTypes=auth/jwt
AuthAltParameters=jwt_key=/var/spool/slurm/statesave/jwt_hs256.key
<% end %>
